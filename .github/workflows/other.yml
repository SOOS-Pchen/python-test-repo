on: 
  push:
    branches:
      - main


name: generate-sums
jobs:
  generate-sums:
    runs-on: ubuntu-latest 
    steps:
      - name: Checkout 
        uses: actions/checkout/@v1.0.0
      - uses: dorny/paths-filter@v2.2.1
        id: filter 
        with:
          filters: | 
            txt:
            - '**/*.txt'
            
      - name: Create Digests
        if: ${{ steps.filter.outputs.txt == 'true' }}
        run:
          shasum -a 256 some_requirements.txt>some_requirements.sha256
      - name: Save the digest 
        run: git add "some_requirements.sha256"
      - name: Commit the digest 
        run: git commit -m "some_requirements.sha256" 
